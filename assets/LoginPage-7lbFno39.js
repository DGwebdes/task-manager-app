import{u as g,a as x,r as h,j as e}from"./index-co30KmTj.js";import{u as j}from"./formPage-1J8jC9OX.js";const d=({label:r,type:i,register:o,errors:t})=>{const s=r.toLowerCase();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-field",children:[e.jsxs("label",{children:[r,":"]}),e.jsx("input",{type:i,...o(s,{required:`${r} is required`})})]}),e.jsx("div",{className:"error-message",children:t[s]&&e.jsx("p",{children:t[s].message})})]})},f=()=>{const{register:r,handleSubmit:i,formState:{errors:o}}=j(),{login:t,loading:s}=g(),n=x(),[a,l]=h.useState(""),c=async m=>{try{await t(m),n("/dashboard")}catch(u){console.error("Error occurred:",u),l(Error==="Invalid credentials"?"User not Found":"Unable to login")}};return e.jsxs("main",{children:[e.jsxs("div",{className:"form-wrapper",children:[e.jsx("h1",{children:"Login"}),e.jsxs("form",{onSubmit:i(c),children:[e.jsx(d,{label:"Email",type:"email",register:r,errors:o}),e.jsx(d,{label:"Password",type:"password",register:r,errors:o}),e.jsx("button",{type:"submit",disabled:s,children:s?"Logging in..":"Login"}),a&&e.jsx("p",{children:a})]})]}),e.jsx("button",{onClick:()=>n("/register"),children:"Register"})]})};export{f as default};
